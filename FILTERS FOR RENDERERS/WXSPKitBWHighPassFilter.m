// ******************************************************************************************
//  WXSPKitBWHighPassFilter.h
//  Created by Paul Webb on Mon Jan 10 2005.
// ******************************************************************************************
#import "WXSPKitBWHighPassFilter.h"

// ******************************************************************************************

@implementation WXSPKitBWHighPassFilter
// ******************************************************************************************
-(id)		init
{
if(self=[super init])
	{
	[self setCutOffFreq:12000];
	}
return self;
}
// ***************************************************************************************
-(void)		doController:(int)index value:(float)value
{
[self setCutOffFreq:value]; 
}
// ******************************************************************************************
-(void)		setCutOffFreqNSO:(id)freq
{
[self setCutOffFreq:[freq floatValue]];
}
// ******************************************************************************************
-(void)		setCutOffFreq:(float)freq
{
if(freq==0) return;
cutOffFreq = freq;
    
C = 1.0 / tan(M_PI * cutOffFreq / 44100.0);
a0 = 1.0 / (1.0 + sqrt(2.0) * C + C * C);
a1 = -2.0 * a0;
a2 = a0;

b1 = 2 * (C * C - 1.0) * a0;
b2 = (1.0 - sqrt(2.0) * C + C * C) * a0;
}
// ******************************************************************************************


@end
